<!DOCTYPE html>
<html lang='ru'>
<head>
<meta charset='utf-8'/>
<meta name='viewport' content="width=device-width, initial-scale=1.0"/>
<link rel='stylesheet' href='styles.css'/>
<title>Охота на бога</title>
<script>
const root = document.querySelector(':root');

let ratio = document.documentElement.clientWidth / 1920;

let z = 0; root.style.setProperty('--ratio', ratio);

function zoom() { z = 1-z; root.style.setProperty('--ratio', ratio * Math.pow(1.25, z)); }

let i; //номер листа
let n = 0; // число перевернутых листов

window.onload = () => {
for(i=1; i<=5; i++) {
document.getElementById('S'+i).onclick = function(event) {
if(getComputedStyle(this).animationPlayState === 'paused') switch(n) {
case Number(this.id.slice(1)) - 1: n++; rot(this, 'normal');  break;
case Number(this.id.slice(1)):     n--; rot(this, 'reverse'); break; } }
document.getElementById('S'+i).onanimationend = function(event) { event.currentTarget.style.animationPlayState = 'paused'; } };
document.querySelector('.candlelight').onclick = light;
document.querySelector('.loupe').onclick = zoom;
document.getElementById('S1').addEventListener('click', disappear);
document.getElementById('S3').addEventListener('click', appearance);
document.getElementById('S4').addEventListener('click', attention); }

function light() {
document.querySelector('.darkwrap').style.animationPlayState = 'running';
document.querySelector('.darkness').style.animationPlayState = 'running'; }
function disappear() {
document.querySelector('.floor').style.animationPlayState = 'running';
document.querySelector('.candle').style.animationPlayState = 'running';
document.querySelector('.glass').style.animationPlayState = 'running'; }
function appearance() { document.querySelector('.skull').style.animationPlayState = 'running'; }
function attention() { document.querySelector('.continue').style.animationPlayState = 'running'; }

function rot(sheet, direction) {
sheet.style.animation = 'none';
sheet.offsetHeight; /* trigger reflow */
sheet.style.animation = null;
sheet.style.animationDirection = direction;
sheet.style.animationPlayState = 'running'; 
}
</script>
</head>

<body class='room'>
<div class='space'><div class='cosmos'></div></div>
<div class='shadow'>
<div class='floor'></div><div class='table'></div>
<div class='darkwrap'><div class='darkness'><div class='candlelight'></div></div></div>
<div class='items'>
<div class='candle'></div><div class='glass'></div><div class='skull'></div><div class='penandink'></div>
<div class='paper'><p>Рукописи горят... иногда</p></div>

<!-------------------------------------------------- 3D BOOK -------------------------------------------------->
<div class='sheet' id='S1'>
<div class='wrapper' id='F1'></div>
<div class='odd_page'></div>
<div class='even_page'></div>
<div class='wrapper' id='B1'></div>
</div>
<div class='sheet' id='S2'>
<div class='wrapper' id='F2'></div>
<div class='odd_page'><p>
Допит бокал, и свечи догорели.<br/>
Последний гость давно уже ушёл,<br/>
И дождь пошёл, и заржавели двери,<br/>
И холод, наконец, меня нашёл.<br/>
<br/>Виктор Халия</p></div>
<div class='even_page'><p>Пролог<br/>
<br/>Представьте себе, что некто по воле злого случая выпал из окна: удивление, страх, паника, отчаяние, пара 
ярких картинок из детства — букашка в траве, синее небо. Ну, возможно, ещё что-нибудь, не такое важное: «Мне же к девяти 
на работу!» — и всё.
<br/>Лампочка, свет, щелчок выключателя, и темнота.
<br/>Дальше?
<br/>А дальше было вот что.</p></div>
<div class='wrapper' id='B2'></div>
</div>
<div class='sheet' id='S3'>
<div class='wrapper' id='F3'></div>
<div class='odd_page'><p>Часть 1. Зверь
<br/>Глава 1. Непрошенные гости<br/>
<br/>Николай Михайлович Кашин — 33 года, шатен, рост средний, уши оттопырены, немного картавит, 
линия жизни на ладоне сливается с линией ума (раним, талантлив). В двухкомнатной квартире, доставшейся 
по наследству от бабушки, проживает один, бобылём.
</br>Понедельник, 22 августа, семь часов утра, за окном непогода. День не задался с самого начала: противный 
писк электрического будильника оборвал вереницу желанных грёз на самом интересном месте.</p></div>
<div class='even_page'><p>
Понежившись ещё пару минут в сладкой полудрёме, наш герой нехотя встал и отправился на кухню, как вдруг, краем 
глаза замечает в прихожей человека, казалось, возникшего из ничего и в ту же самую секунду, как его обнаружили.
</br>Кашин судорожно выдохнул; сердце, нервы пошли в пляс. Он медленно повернулся и тут же наткнулся на жёсткий 
буравящий взгляд: так удавы смотрят на кроликов.
</br>«Дьявол! — мелькнуло в голове Кашина. — Неужели вор?!»
</br>Первым заговорил таинственный господин:</p></div>
<div class='wrapper' id='B3'></div>
</div>
<div class='sheet' id='S4'>
<div class='wrapper' id='F4'></div>
<div class='odd_page'><p>
низким простуженным голосом, монотонно, деловито; манеры, слова, интонация — всё 
было крайне странно для его положения. Со стороны могло показаться, что не визитёр, а сам Кашин был непрошеным гостем в чужом доме.
</br>Незнакомец держался по-военному прямо, но не скованно: движения мягкие, точные, по-кошачьи красивые; умные строгие глаза светились 
карим огнём; загорелое лицо имело те приятно-округлые и вместе с тем чуть грубовато-резкие черты, которые обычно нравятся женщинам; лёгкий 
запах пота мешался с невнятным</p></div>
<div class='even_page'><p>
ароматом недорогого парфюма.
</br>— ...не отвлекайтесь, — бесстрастно наставлял пришлый господин, время от времени заглядывая в мятый лист коричневой веленевой 
бумаги, — Смотрите на меня. Вы должны...
</br>После этих слов сознание Кашина предприняло первую попытку разобраться в абсурдности происходящего.
</br>— Я никому ничего не должен, — собравшись с духом, категорически заявил Кашин.
</br>— Вы правы. Должны мы. Вас непременно заменят, но не сейчас. В общем, дело спешное. Ночью выкрали список, и мы не можем...</p></div>
<div class='wrapper' id='B4'></div>
</div>
<div class='sheet' id='S5'>
<div class='wrapper' id='F5'></div>
<div class='odd_page'></div>
<div class='even_page'><img class='photo' src='images/photos/author.jpg'>
<div class='annotation'><p>Череда нескончаемых злоключений</br>обрушилась на голову простого</br>российского инженера, последнего</br>носителя спящих генов разумных</br>
насекомых, некогда покинувших</br>Землю. Древняя цивилизация</br>готовится к возрождению. Что ждёт</br>человечество? Об этом читатель</br>узнает по прочтении романа,</br>
неторопливо наблюдая на его</br>страницах, чем живёт и дышит</br>современная Россия.</p></div></div>
<div class='wrapper' id='B5'></div>
</div>
<!-------------------------------------------------- END OF BOOK -------------------------------------------------->

<div class='continue'><p>Читать</br>дальше по</br>ссылке на:</br><a href='https://avidreaders.ru/read-book/ohota-na-boga.html'>AvidReaders</a></p></div>
<div class='loupe'></div>
</div>
</div>
</body>
</html>