<!DOCTYPE html>
<html lang='ru'>
<head>
<meta charset='utf-8'/>
<meta name='viewport' content="width=device-width, initial-scale=1.0"/>
<link rel='stylesheet' href='styles.css'/>
<title>Охота на бога</title>
<script>
const root = document.querySelector(':root');

let ratio = document.documentElement.clientWidth / 1920;

let z = 0; root.style.setProperty('--ratio', ratio);

function zoom() { z = 1 - z; root.style.setProperty('--ratio', ratio * Math.pow(1.25, z)); }

let i; //номер листа
let n = 0; // число перевёрнутых листов

window.onload = () => {
for(i = 1; i <= 7; i++) {
document.getElementById('S' + i).onclick = function(event) {
if(getComputedStyle(this).animationPlayState === 'paused') switch(n) {
case Number(this.id.slice(1)) - 1: n++; rot(this, 'normal');  break;
case Number(this.id.slice(1)):     n--; rot(this, 'reverse'); break; } }
document.getElementById('S' + i).onanimationend = function(event) { event.currentTarget.style.animationPlayState = 'paused'; } };
loading.onmousemove = glare;
button.onclick = loader;
document.querySelector('.candlelight').onclick = light;
document.querySelector('.loupe').onclick = zoom;
document.getElementById('S1').addEventListener('click', disappear);
document.getElementById('S3').addEventListener('click', appearance);
document.getElementById('S5').addEventListener('click', surveillance);
document.getElementById('S6').addEventListener('click', attention); }

let Xb, Yb; //координаты кнопки внутри страницы
let X, Y; //координаты мыши относительно центра кнопки
let Xc, Yc; //координаты центра градиента внутри кнопки
root.style.setProperty('--Xc', button.offsetWidth / 2  + 'px');
root.style.setProperty('--Yc', button.offsetHeight / 2 + 'px');

function glare(event) {
Xb = button.getBoundingClientRect().left + pageXOffset;
Yb = button.getBoundingClientRect().top  + pageYOffset;
X = event.pageX - Xb - button.offsetWidth / 2;
Y = event.pageY - Yb - button.offsetHeight / 2;
Xc = button.offsetWidth / 2  + 0.5 * X;
Yc = button.offsetHeight / 2 + 0.5 * Y;
root.style.setProperty('--Xc', Xc + 'px');
root.style.setProperty('--Yc', Yc + 'px'); }

function loader() {
loading.style.display = 'none';
ratio = document.documentElement.clientWidth / 1920;
root.style.setProperty('--ratio', ratio);
document.querySelector('.space').style.visibility = 'visible';
document.querySelector('.cosmos').style.animationPlayState = 'running';
document.querySelector('.shadow').style.animationPlayState = 'running'; }

function light() {
document.querySelector('.darkwrap').style.animationPlayState = 'running';
document.querySelector('.darkness').style.animationPlayState = 'running';
document.querySelector('.paper').firstChild.style.animationPlayState = 'running';
document.querySelector('.paper').lastChild.style.animationPlayState = 'running'; }

function disappear() {
document.querySelector('.floor').style.animationPlayState = 'running';
document.querySelector('.candle').style.animationPlayState = 'running';
document.querySelector('.glass').style.animationPlayState = 'running'; }

function appearance() { document.querySelector('.skull').style.animationPlayState = 'running'; }
function surveillance() { document.querySelector('.eye').style.animationPlayState = 'running'; }
function attention() { document.querySelector('.continue').style.animationPlayState = 'running'; }

function rot(sheet, direction) {
sheet.style.animation = 'none';
sheet.offsetHeight; /* trigger reflow */
sheet.style.animation = null;
sheet.style.animationDirection = direction;
sheet.style.animationPlayState = 'running'; }
</script>
</head>

<body class='room'>
<div id='loading'>
<div class='painting lovers'></div>
<div class='painting sleep'></div>
<p class='message'>. . . Загрузка завершена . . .</p>
<div id='button'><p>К ЗВЁЗДАМ</p><div class='gradient'></div></div>
</div>
<div class='space'><div class='cosmos'><div class='stars'></div></div></div>
<div class='shadow'>
<div class='floor'></div><div class='table'></div>
<div class='darkwrap'><div class='darkness'><div class='candlelight'></div></div></div>
<div class='items'>
<div class='candle'></div><div class='glass'></div>
<div class='skull'><div class='eye'></div></div>
<div class='paper'><p>Рукописи</br>не</br>горят?</p><p>Рукописи</br>горят...</br>иногда</p></div>

<!-------------------------------------------------- 3D BOOK -------------------------------------------------->
<div class='sheet' id='S1'>
<div class='wrapper' id='F1'></div>
<div class='odd page'></div>
<div class='even page'></div>
<div class='wrapper' id='B1'></div>
</div>
<div class='sheet' id='S2'>
<div class='wrapper' id='F2'></div>
<div class='odd page'><p>
Допит бокал, и свечи догорели.<br/>
Последний гость<br/> давно уже ушёл,<br/>
И дождь пошёл,<br/> и заржавели двери,<br/>
И холод, наконец,<br/> меня нашёл.<br/>
<br/>Виктор Халия</p></div>
<div class='even page'><p>Пролог<br/>
<br/>Представьте себе, что некто по воле злого случая выпал из окна: удивление, страх, паника, отчаяние, пара 
ярких картинок из детства — букашка в траве, синее небо. Ну, возможно, ещё что-нибудь, не такое важное: «Мне же к девяти 
на работу!» — и всё.
<br/>Лампочка, свет, щелчок выключателя, и темнота.
<br/>Дальше?
<br/>А дальше было вот что.</p></div>
<div class='wrapper' id='B2'></div>
</div>
<div class='sheet' id='S3'>
<div class='wrapper' id='F3'></div>
<div class='odd page'><p>
Часть 1. Зверь<br/>
Глава 1. Непрошенные гости<br/>
<br/>Николай Михайлович Кашин — 33 года, шатен, рост средний, уши оттопырены, немного картавит, 
линия жизни на ладоне сливается с линией ума (раним, талантлив). В двухкомнатной квартире, доставшейся 
по наследству от бабушки, проживает один, бобылём.
</br>Понедельник, 22 августа, семь часов утра, за окном непогода. День не задался с самого начала: противный 
писк электрического будильника оборвал вереницу желанных грёз на самом интересном месте.</p></div>
<div class='even page'><p>
Понежившись ещё пару минут в сладкой полудрёме, наш герой нехотя встал и отправился на кухню, как вдруг, краем 
глаза замечает в прихожей человека, казалось, возникшего из ничего и в ту же самую секунду, как его обнаружили.
</br>Кашин судорожно выдохнул; сердце, нервы пошли в пляс. Он медленно повернулся и тут же наткнулся на жёсткий 
буравящий взгляд: так удавы смотрят на кроликов.
</br>«Дьявол! — мелькнуло в голове Кашина. — Неужели вор?!»
</br>Первым заговорил таинственный господин: низким простуженным голосом, монотонно, деловито;</p></div>
<div class='wrapper' id='B3'></div>
</div>
<div class='sheet' id='S4'>
<div class='wrapper' id='F4'></div>
<div class='odd page'><p>
манеры, слова, интонация — всё было крайне странно для его положения. Со стороны могло показаться, что не визитёр, а сам Кашин был непрошеным гостем в чужом доме.
</br>Незнакомец держался по-военному прямо, но не скованно: движения мягкие, точные, по-кошачьи красивые; умные строгие глаза светились 
карим огнём; загорелое лицо имело те приятно-округлые и вместе с тем чуть грубовато-резкие черты, которые обычно нравятся женщинам; лёгкий 
запах пота мешался с невнятным ароматом недорогого парфюма.
</br>— ...не отвлекайтесь, — бесстрастно наставлял</p></div>
<div class='even page'><p>
пришлый господин, время от времени заглядывая в мятый лист коричневой веленевой бумаги, — Смотрите на меня. Вы должны...
</br>После этих слов сознание Кашина предприняло первую попытку разобраться в абсурдности происходящего.
</br>— Я никому ничего не должен, — собравшись с духом, категорически заявил Кашин.
</br>— Вы правы. Должны мы. Вас непременно заменят, но не сейчас. В общем, дело спешное. Ночью выкрали список, и мы не можем...
</br>— Кого заменят? — перешёл в наступление Кашин, — Какой список? Залезли в чужую</p></div>
<div class='wrapper' id='B4'></div>
</div>
<div class='sheet' id='S5'>
<div class='wrapper' id='F5'></div>
<div class='odd page'><p>
квартиру. Городите здесь... вздор всякий. Вы кто?..
</br>— Не стоит так беспокоиться, — увещевал незнакомец, — Обязательство о неразглашении...
</br>— Вы, вообще, слышите меня?! — повысил голос Кашин, теряя терпение прямо пропорционально растущему в нём возмущению и уверенности в 
себе, — Вы не ответили! Кто вы такой? Что вам надо?! Или отвечайте, или выметайтесь, пока я вас с лестницы не спустил!..
</br>— Кажется, я начинаю что-то понимать, — коснувшись кончиком пальца переносицы, незнакомец поправил невидимые очки и, как бы, разговаривая 
сам с собой,</p></div>
<div class='even page'><p>
пробубнил себе под нос: — Лёгкая добыча или приманка?
</br>«Псих? Наркоман?..» — Кашин уже не знал, что думать. С твёрдым намерением выпроводить сомнительного гостя, он шагнул к входной двери.
</br>Незнакомец даже не шелохнулся:
</br>— Я бы на вашем месте прежде воспользовался дверным глазком. Опасные люди, знаете ли.
</br>В голосе чужака было столько ленивого равнодушия, что Кашин как-то невольно для себя прильнул к окуляру: с другой стороны двери в глазок тоже кто-то смотрел.
</br>— Уфф, — Кашин в испуге отпрянул назад и упавшим голосом</p></div>
<div class='wrapper' id='B5'></div>
</div>
<div class='sheet' id='S6'>
<div class='wrapper' id='F6'></div>
<div class='odd page'><p>
пролепетал, — Да что же это такое? — В эту минуту он почувствовал себя в положении загнанного в угол зверька: от необоримого волнения, сознания явной 
несправедливости и полного бессилия что-либо изменить на глазах навернулись слёзы.
</br>— Кстати. Какая у вас группа крови? Ваш статус не позволяет...
</br>— Дурдом... — растерянно пробормотал Кашин и, на минуту забыв, что перед ним, возможно, психически 
нездоровый человек, набрал номер ближайшего отделения полиции: в трубке запикали частые гудки.</p></div>
<div class='even page'><p>
Незнакомец неспешно прошёл в комнату, сел на диван. Проделано это было с такой обыденностью и домашней непринуждённостью, 
что Кашиным овладело какое-то безотчётное, давно забытое чувство детского любопытства, а человек за дверью уже не казался таким 
уж опасным, пугающим. Прикинув, сколько времени могут занять разборки с представителями власти, он, так и не дозвонившись, повесил трубку.
</br>Самоуверенный господин, закинув ногу на ногу, в свободной позе сидел на диване 
и холодным изучающим взглядом наблюдал за действиями хозяина квартиры...</p></div>
<div class='wrapper' id='B6'></div>
</div>
<div class='sheet' id='S7'>
<div class='wrapper' id='F7'></div>
<div class='odd page'></div>
<div class='even page'><img class='photo' src='images/photos/author.jpg'>
<p class='annotation'>Череда нескончаемых злоключений обрушилась на голову простого российского инженера, последнего носителя спящих генов разумных 
насекомых, некогда покинувших Землю. Древняя цивилизация готовится к возрождению. Что ждёт человечество? Об этом читатель узнает по прочтении романа, 
неторопливо наблюдая на его страницах, чем живёт и дышит современная Россия.</p></div>
<div class='wrapper' id='B7'></div>
</div>
<!-------------------------------------------------- END OF BOOK -------------------------------------------------->

<div class='continue'><p>Читать</br>дальше по</br>ссылке на:</br><a href='https://avidreaders.ru/read-book/ohota-na-boga.html'>AvidReaders</a></p></div>
<div class='penandink'></div>
<div class='loupe'></div>
</div>
</div>
</body>
</html>